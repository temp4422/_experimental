<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>To-Do List</title>
  </head>

  <body>
    <h1>To-Do List</h1>

    <form id="todo-form" action="javascript:addTodo()">
      <label for="todo-input">Type task</label><br />
      <input id="todo-input" type="text" />
      <button id="add-button" type="submit">Add</button>
    </form>

    <ul id="todo-list">
      <!-- <li><span>Lorem ipsum </span><button>X</button></li> -->
    </ul>
  </body>

  <script>
    const form = document.querySelector('#todo-form')
    const input = document.querySelector('#todo-input')
    const todoList = document.querySelector('#todo-list')

    const arrList = []

    function addTodo() {
      // Add item
      const delButton = document.createElement('button')
      delButton.append('X')
      delButton.className = 'delete'
      const inputText = document.createElement('span')
      inputText.append(input.value + ' ')

      const listItem = document.createElement('li')
      listItem.append(inputText)
      listItem.append(delButton)

      todoList.append(listItem)

      form.reset() // Reset input

      // Delete item
      // After adding item, add event listener to it for future deletion
      const listItems = document.querySelectorAll('.delete')

      for (const item of listItems) {
        item.addEventListener('click', (event) => {
          event.target.parentNode.remove() // Delete parent node 'li'
        })
      }
    }
  </script>
</html>
